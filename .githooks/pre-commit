#!/usr/bin/env sh
set -eu

REPO_ROOT="$(git rev-parse --show-toplevel 2>/dev/null || pwd)"
cd "$REPO_ROOT"

PYTHON_BIN="${PYTHON:-python}"
if ! command -v "$PYTHON_BIN" >/dev/null 2>&1; then
  if command -v python3 >/dev/null 2>&1; then
    PYTHON_BIN="python3"
  fi
fi

"$PYTHON_BIN" scripts/check_mojibake.py --targets frontend/src backend/main.py backend/app/routers backend/app/services/rag_engine.py CLAUDE.md
"$PYTHON_BIN" scripts/check_ui_copy.py
